<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Candy Puzzle Map</title>

<style>
    body {
        margin: 0;
        font-family: cursive;
        background: url("https://img.freepik.com/premium-photo/cartoon-landscape-images-background-copy-space_1179130-752307.jpg?semt=ais_hybrid&w=740&q=80") 
            no-repeat center center fixed;
        background-size: cover;
        overflow-x: hidden;
    }

    /* ‚≠ê WELCOME VIEW ‚≠ê */
    .welcome {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url("https://img.freepik.com/premium-photo/cartoon-landscape-images-background-copy-space_1179130-752307.jpg?semt=ais_hybrid&w=740&q=80") 
            no-repeat center center fixed;
        background-size: cover;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        z-index: 9999;
        overflow: hidden;
        transition: opacity 0.6s ease;
    }

    .welcome-box { 
        background: rgba(255, 255, 255, 0.75); 
        padding: 40px 55px;
        border-radius: 25px; 
        box-shadow: 0 0 25px rgba(0,0,0,0.2); 
        text-align: center;
        animation: popIn 1s ease forwards;
        backdrop-filter: blur(5px);
    }

    .welcome-title {
        font-size: 50px;
        font-family: "Arial";
        color: #050cd9;
    }

    .welcome-sub {
        font-size:20px;
        font-family: "Arial";
        margin-top: 10px;
        color: #040544;
    }

    .start-btn {
        margin-top: 25px;
        padding: 10px 20px;
        font-size: 24px;
        font-weight: bold;
        border: none;
        border-radius: 18px;
        color: white;
        background: linear-gradient(45deg, #6aa8ff, #3d3dff);
        box-shadow: 0px 5px 15px rgba(255,0,120,0.4);
        cursor: pointer;
        transition: transform 0.25s;
    }

    .start-btn:hover {
        transform: scale(1.12);
    }

    @keyframes popIn {
        0% { transform: scale(0.5); opacity: 0; }
        100% { transform: scale(1); opacity: 1; }
    }

    /* Timer */
    #timer {
        position: fixed;
        top: 20px;
        right: 30px;
        font-size: 28px;
        color: red;
        font-weight: bold;
        z-index: 10000;
        display: none;
        background: rgba(255,255,255,0.6);
        padding: 10px 20px;
        border-radius: 15px;
        box-shadow: 0 0 15px rgba(0,0,0,0.3);
    }

    /* Map container */
    .map {
        position: relative;
        width: 100%;
        height: 1500px;
    }

    /* Puzzle Game Heading */
    #gameHeading {
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 48px;
        color: #2057ce;
        font-family: Arial, sans-serif;
        text-shadow: 2px 2px 6px rgba(0,0,0,0.3);
        z-index: 10;
    }

    svg {
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 400px;
        height: 1200px;
        z-index: 1;
    }

    /* ‚≠ê Level button ‚Äì 3D candy ‚≠ê */
    .level {
        position: absolute;
        width: 90px;
        height: 90px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, #1197d4, #0b6e99);
        color: white;
        font-size: 38px;
        font-weight: bold;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 4px solid #ffffff;
        box-shadow:
            inset 4px 4px 10px rgba(255,255,255,0.6),
            inset -4px -4px 12px rgba(0,0,0,0.25),
            0 8px 18px rgba(0,0,0,0.35);
        cursor: pointer;
        transition: transform 0.22s ease, box-shadow 0.22s ease;
        z-index: 5;
    }

    .level:hover {
        transform: translateY(-6px) scale(1.08);
        box-shadow:
            inset 4px 4px 10px rgba(255,255,255,0.7),
            inset -4px -4px 12px rgba(0,0,0,0.3),
            0 12px 25px rgba(0,0,0,0.45);
    }

    /* Locked Level */
    .level[data-unlocked="false"] {
        background: radial-gradient(circle at 30% 30%, #f1fbff, #0b6e99);
        cursor: not-allowed;
        box-shadow: none !important;
        color: #555 !important;
    }

    /* Completed Level */
    .completed {
        background: radial-gradient(circle at 30% 30%, #1ce447, #059a48) !important;
        color: white !important;
        box-shadow:
            inset 4px 4px 10px rgba(255,255,255,0.7),
            inset -4px -4px 12px rgba(0,0,0,0.3),
            0 12px 25px rgba(0,0,0,0.45) !important;
    }

    /* level positions */
    #l1 { top: 100px; left: 50%; transform: translateX(-140px); }
    #l2 { top: 200px; left: 50%; transform: translateX(60px); }
    #l3 { top: 300px; left: 50%; transform: translateX(-140px); }
    #l4 { top: 400px; left: 50%; transform: translateX(60px); }
    #l5 { top: 500px; left: 50%; transform: translateX(-140px); }
    #l6 { top: 600px; left: 50%; transform: translateX(60px); }
    #l7 { top: 700px; left: 50%; transform: translateX(-140px); }
    #l8 { top: 800px; left: 50%; transform: translateX(60px); }
    #l9 { top: 900px; left: 50%; transform: translateX(-140px); }
    #l10 { top: 1000px; left: 50%; transform: translateX(60px); }

    /* Puzzle popup */
    .popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 350px;
        background: white;
        padding: 35px 25px;
        border-radius: 20px;
        box-shadow: 0 0 25px rgba(0,0,0,0.25);
        display: none;
        text-align: center;
        z-index: 9999;
    }

    .popup h2 {
        color: #2673d1;
        font-size: 30px;
    }

    .popup input {
        width: 80%;
        padding: 12px;
        border: 2px solid #2c70de;
        border-radius: 10px;
        font-size: 18px;
    }

    .popup button {
        margin-top: 15px;
        padding: 12px 20px;
        background: rgb(24,111,231);
        border: none;
        border-radius: 12px;
        color: white;
        font-size: 18px;
        cursor: pointer;
    }

    /* ‚≠ê Completion Screen ‚≠ê */
    .complete-panel {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.6);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 99999;
    }

    .complete-box {
        background: white;
        padding: 40px 30px;
        border-radius: 20px;
        text-align: center;
        width: 350px;
        box-shadow: 0 0 20px rgba(0,0,0,0.3);
    }

    #timeTaken {
        font-size: 22px;
        font-weight: bold;
        color: #ff0000;
        margin-top: 15px;
    }
</style>
</head>

<body>

<!-- ‚≠ê WELCOME SCREEN ‚≠ê -->
<div class="welcome" id="welcome">
    <div class="welcome-box">
        <h1 class="welcome-title">Puzzle Unlock Challenge</h1>
        <p class="welcome-sub">
            Welcome to this fun brain game!<br>
            Follow the candy path, solve puzzles,<br>
            and unlock sweet surprises!
        </p>
        <button class="start-btn" onclick="startGame()">Let's Begin</button>
    </div>
</div>

<!-- Timer -->
<div id="timer">00:00</div>

<div class="map">

<h1 id="gameHeading">Puzzle Unlock Challenge</h1>

<svg>
    <defs>
        <filter id="blurFilter">
            <feGaussianBlur stdDeviation="8" />
        </filter>
        <linearGradient id="candyRoad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#2bb7ff"/>
            <stop offset="50%" stop-color="#0a68b5"/>
            <stop offset="100%" stop-color="#014a8e"/>
        </linearGradient>
    </defs>

    <polyline 
        points="80,120 320,230 100,330 320,430 100,530 320,630 100,730 320,830 100,930 320,1030"
        fill="none"
        stroke="rgba(0,150,255,0.45)"
        stroke-width="28"
        stroke-linecap="round"
        stroke-linejoin="round"
        filter="url(#blurFilter)"
    />

    <polyline 
        points="80,120 320,230 100,330 320,430 100,530 320,630 100,730 320,830 100,930 320,1030"
        fill="none"
        stroke="url(#candyRoad)"
        stroke-width="12"
        stroke-linecap="round"
        stroke-linejoin="round"
    />

    <polyline 
        points="80,120 320,230 100,330 320,430 100,530 320,630 100,730 320,830 100,930 320,1030"
        fill="none"
        stroke="white"
        stroke-width="6"
        stroke-linecap="round"
        stroke-linejoin="round"
        opacity="0.35"
    />
</svg>

<!-- Level Buttons with progressive unlock -->
<div id="l1" class="level" onclick="openLevel(1)" data-unlocked="true">1</div>
<div id="l2" class="level" onclick="openLevel(2)" data-unlocked="false">2</div>
<div id="l3" class="level" onclick="openLevel(3)" data-unlocked="false">3</div>
<div id="l4" class="level" onclick="openLevel(4)" data-unlocked="false">4</div>
<div id="l5" class="level" onclick="openLevel(5)" data-unlocked="false">5</div>
<div id="l6" class="level" onclick="openLevel(6)" data-unlocked="false">6</div>
<div id="l7" class="level" onclick="openLevel(7)" data-unlocked="false">7</div>
<div id="l8" class="level" onclick="openLevel(8)" data-unlocked="false">8</div>
<div id="l9" class="level" onclick="openLevel(9)" data-unlocked="false">9</div>
<div id="l10" class="level" onclick="openLevel(10)" data-unlocked="false">10</div>

</div>

<!-- POPUP -->
<div id="popup" class="popup">
    <h2 id="lvltxt"></h2>
    <p id="question"></p>
    <input id="answer" placeholder="Enter answer...">
    <button onclick="checkAnswer()">Submit</button>
</div>

<!-- COMPLETION PANEL -->
<div id="completePanel" class="complete-panel">
    <div class="complete-box">
        <h1>üéâ Congratulations!üéâ</h1>
        <p>You completed all 10 levels!</p>
        <p id="timeTaken"></p>
    </div>
</div>

<script>
let currentLevel = 1;
let timerInterval;
let totalSeconds = 0;

const puzzles = {
    1: { q: "2+2 = ?", a: "4" },
    2: { q: "What color is the sky?", a: "blue" },
    3: { q: "5 - 1 = ?", a: "4" },
    4: { q: "Opposite of 'cold'?", a: "hot" },
    5: { q: "3+4 = ?", a: "7" },
    6: { q: "Fruit starting with A?", a: "apple" },
    7: { q: "10 - 3 = ?", a: "7" },
    8: { q: "What do bees make?", a: "honey" },
    9: { q: "First month of year?", a: "january" },
    10:{ q: "Color of banana?", a: "yellow" }
};

function startGame() {
    document.getElementById("welcome").style.opacity = "0";
    setTimeout(() => { 
        document.getElementById("welcome").style.display = "none"; 
        startTimer();
    }, 600);
}

function startTimer() {
    document.getElementById("timer").style.display = "block";
    timerInterval = setInterval(() => {
        totalSeconds++;
        let minutes = Math.floor(totalSeconds / 60).toString().padStart(2,'0');
        let seconds = (totalSeconds % 60).toString().padStart(2,'0');
        document.getElementById("timer").innerText = `${minutes}:${seconds}`;
    }, 1000);
}

function stopTimer() {
    clearInterval(timerInterval);
}

function openLevel(level) {
    const levelBtn = document.getElementById("l" + level);
    if (levelBtn.getAttribute("data-unlocked") !== "true") {
        alert("Complete previous level first!");
        return;
    }
    currentLevel = level;
    document.getElementById("lvltxt").innerText = "Level " + level;
    document.getElementById("question").innerText = puzzles[level].q;
    document.getElementById("popup").style.display = "block";
}

function checkAnswer() {
    let input = document.getElementById("answer").value.toLowerCase();
    let correct = puzzles[currentLevel].a.toLowerCase();

    if (input === correct) {
        alert("Correct! Level " + currentLevel + " completed!");
        document.getElementById("l" + currentLevel).classList.add("completed");
        document.getElementById("popup").style.display = "none";
        document.getElementById("answer").value = "";

        // Unlock next level if exists
        if (currentLevel < 10) {
            let nextLevel = document.getElementById("l" + (currentLevel + 1));
            nextLevel.setAttribute("data-unlocked", "true");
        } else {
            stopTimer();
            showCompletion();
        }
    } else {
        alert("Try again!");
    }
}

function showCompletion() {
    document.getElementById("completePanel").style.display = "flex";
    let minutes = Math.floor(totalSeconds / 60).toString().padStart(2,'0');
    let seconds = (totalSeconds % 60).toString().padStart(2,'0');
    document.getElementById("timeTaken").innerText = `Time Taken: ${minutes}:${seconds}`;
}
</script>

</body>
</html>
